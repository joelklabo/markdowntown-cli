{"id":"markdowntown-cli-0xn","title":"Infra: dev tooling (Makefile, golangci, lefthook)","description":"- Add local dev tooling: Makefile targets, golangci-lint config, lefthook hooks.\n- Ensure `make check` runs lint + tests and matches CI expectations.\n\nAcceptance criteria:\n- Makefile includes build/test/lint/check/coverage targets per spec.\n- `.golangci.yml` enforces strict linting.\n- `.lefthook.yml` runs lint + tests on commit.\n\nEdge cases:\n- Ensure Windows paths and shells are supported in Makefile/CI.\n\nRisks/assumptions:\n- golangci-lint v2 is used (config version 2).\n\n## Files\n- Makefile (create: build/test/lint/check targets)\n- .golangci.yml (create: lint configuration)\n- .lefthook.yml (create: pre-commit hooks)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check` (see docs/cli-transcripts/markdowntown-cli-0xn/make-check.txt)\n- Transcripts: docs/cli-transcripts/markdowntown-cli-0xn/make-check.txt\n\n## Close Notes\n- Issues encountered: golangci-lint config needed version 2 and gofmt moved to formatters before lint passed.\n- Setup improvements: pin golangci-lint version in docs/CI to avoid config drift.\n- Debug info that would have helped: expected golangci-lint config version for the local binary.","acceptance_criteria":"Local tooling matches spec + make check works","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":180,"created_at":"2025-12-30T15:55:40.419945-08:00","created_by":"honk","updated_at":"2025-12-30T16:56:08.738205-08:00","closed_at":"2025-12-30T16:56:08.738205-08:00","close_reason":"Implemented","labels":["infra","tooling"],"dependencies":[{"issue_id":"markdowntown-cli-0xn","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:55:40.422327-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-0xn","depends_on_id":"markdowntown-cli-za8","type":"blocks","created_at":"2025-12-30T16:01:19.26407-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-3a4","title":"Security: scan hardening + error handling tests","description":"- Review security/privacy risks for filesystem scanning (symlink loops, permission errors, path traversal).\n- Add targeted tests for permission-denied and circular symlink warnings.\n- Document security considerations and guardrails.\n\nAcceptance criteria:\n- Security notes captured in `docs/architecture/security.md`.\n- Tests cover permission-denied + circular symlink warning behavior.\n- Scanner behavior avoids unsafe path traversal and handles errors gracefully.\n\nEdge cases:\n- Broken symlinks and external targets.\n- Files changing during scan.\n\nRisks/assumptions:\n- Test fixtures can simulate permission errors across OSes.\n\n## Files\n- docs/architecture/security.md (create: security notes + mitigations)\n- internal/scan/scanner_test.go (create: permission + symlink tests)\n- testdata/repos/security/README.md (create: fixture seed)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check`\n- Transcripts: docs/cli-transcripts/markdowntown-cli-3a4/make-check.txt\n\n## Close Notes\n- Issues encountered: gosec permission warnings and symlink path variance in tests; adjusted permissions and matching.\n- Setup improvements: none.\n- Debug info that would have helped: none.\n","acceptance_criteria":"Security notes + tests for perms/symlinks","status":"closed","priority":1,"issue_type":"task","assignee":"honk","estimated_minutes":180,"created_at":"2025-12-30T15:59:08.563791-08:00","created_by":"honk","updated_at":"2025-12-30T18:10:05.986329-08:00","closed_at":"2025-12-30T18:10:05.986329-08:00","close_reason":"Implemented","labels":["security","testing"],"dependencies":[{"issue_id":"markdowntown-cli-3a4","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:59:08.566078-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-3a4","depends_on_id":"markdowntown-cli-tan","type":"blocks","created_at":"2025-12-30T16:02:23.65615-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-4s8","title":"Design: scan architecture + schema map + CLI UX notes","description":"- Draft architecture notes mapping spec to packages (scan, registry, matcher, git, hash, output, CLI).\n- Define JSON schema constants and determinism rules (ordering, timestamps, warnings).\n- Capture CLI UX behavior (TTY progress, exit codes, version output).\n\nAcceptance criteria:\n- `docs/architecture/scan.md` describes data flow + concurrency approach.\n- `docs/architecture/registry.md` documents registry load/validation behavior.\n- Spec clarifications are reflected in `docs/scan-spec-v1.md` without changing intent.\n\nEdge cases:\n- Case-insensitive matching on all platforms.\n- Symlink cycles + external targets.\n- git not available or repo not detected.\n\nRisks/assumptions:\n- CLI-only (no UI/Playwright).\n- Final file list may shift as implementation details surface.\n\n## Files\n- docs/architecture/scan.md (create: architecture + data flow)\n- docs/architecture/registry.md (create: registry load/validate notes)\n- docs/scan-spec-v1.md (modify: align spec with architecture clarifications)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check` (fails: no Makefile yet; see docs/cli-transcripts/markdowntown-cli-4s8/make-check.txt)\n- Transcripts: docs/cli-transcripts/markdowntown-cli-4s8/make-check.txt\n\n## Close Notes\n- Issues encountered: `make check` target missing (Makefile not created yet); repo started with unborn HEAD and untracked baseline files; no `origin` remote configured so push failed.\n- Setup improvements: seed repo with initial commit/main branch and Makefile before design tasks to keep QA green; set remote before worker push.\n- Debug info that would have helped: expected QA command when Makefile is absent.","acceptance_criteria":"Architecture docs + spec alignment complete","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":180,"created_at":"2025-12-30T15:54:49.311979-08:00","created_by":"honk","updated_at":"2025-12-30T16:36:33.895506-08:00","closed_at":"2025-12-30T16:36:33.895506-08:00","close_reason":"Implemented","labels":["design","planning"],"dependencies":[{"issue_id":"markdowntown-cli-4s8","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:54:49.313793-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-4xm","title":"Epic: markdowntown scan v1 CLI","description":"Complete implementation of markdowntown scan v1 CLI.\n\n## Objective\nDeliver a deterministic, machine-readable inventory of AI tool config files across repo + user scopes with registry-backed patterns, suitable for audits/CI/onboarding. Includes scan, registry validate, and tools list commands with strict JSON output and reproducible ordering.\n\n## Primary User Case\nA developer or platform engineer runs `markdowntown scan` in a repo to produce stable JSON output that captures Codex/Copilot/Claude/etc. config files without extra setup or network access (except for optional registry validation).\n\n## Success Criteria\n- [ ] `markdowntown scan` emits deterministic JSON per schema, including repo + user scopes, hashes, frontmatter, gitignored status, warnings, and sorted output.\n- [ ] Pattern registry loads from XDG locations with ambiguity detection and env override.\n- [ ] `markdowntown registry validate` performs syntax/schema/pattern/doc checks with JSON results.\n- [ ] `markdowntown tools list` outputs a tool summary JSON array.\n- [ ] CI + lint + tests + coverage thresholds pass across Go 1.22/1.23 and OS matrix.\n- [ ] Docs cover usage, Codex CLI niceties, and QA evidence expectations.\n\n## QA Evidence Requirements\n- Playwright coverage for UI flows (N/A for CLI-only)\n- Screenshots stored in `docs/screenshots/scan-cli/`\n- DevTools MCP checks (N/A for CLI-only)\n- FE/BE logs reviewed (N/A for CLI-only)\n- CI green proof (commands recorded in each task)\n\n## Risks/Assumptions\n- Oracle critique script failed locally due to `skip_claude`/`claude_pid` unbound variables; proceeding without oracle feedback.\n- Cursor + Claude Code docs are JS-heavy; pattern verification may need manual review.\n- Gemini CLI docs for `.geminiignore`/`GEMINI.md` may require verification in the upstream repo docs.\n- Git is required and available on all target environments.\n\n## Out of Scope\n- Remote repo scanning (`scan-remote`)\n- `--for-file` effective config resolution\n- Multi-root workspace support\n- Custom user registries beyond `MARKDOWNTOWN_REGISTRY`\n\n## Sources\n- https://developers.openai.com/codex/guides/agents-md\n- https://developers.openai.com/codex/cli/slash-commands\n- https://developers.openai.com/codex/skills\n- https://docs.github.com/en/copilot/customizing-copilot/adding-repository-custom-instructions-for-github-copilot\n- https://docs.cline.bot/features/cline-rules\n- https://docs.continue.dev/configuration/configuration-file\n- https://aider.chat/docs/config.html\n- https://git-scm.com/docs/git-check-ignore\n- https://pkg.go.dev/golang.org/x/sync/errgroup\n- https://pkg.go.dev/path/filepath\n- https://pkg.go.dev/net/http\n","acceptance_criteria":"Scan/registry/tools list complete; CI green; docs + QA evidence present","status":"open","priority":2,"issue_type":"epic","assignee":"unassigned","estimated_minutes":960,"created_at":"2025-12-30T15:53:49.499717-08:00","created_by":"honk","updated_at":"2025-12-30T15:53:49.499717-08:00","labels":["cli","epic","scan"]}
{"id":"markdowntown-cli-587","title":"Core: registry loader + matcher + types","description":"- Implement registry loader with XDG lookup, env override, and ambiguity errors.\n- Add schema types for patterns, tools, and output structs (with JSON tags).\n- Implement case-insensitive glob/regex matcher and pattern compilation.\n\nAcceptance criteria:\n- Registry load order honors XDG + binary-adjacent path and fails on multiple registries.\n- Matcher supports glob + regex with case-insensitive matching.\n- Pattern structs cover required fields and are reused across commands.\n\nEdge cases:\n- Malformed regex/glob compile errors.\n- `~` expansion and OS path separators.\n\nRisks/assumptions:\n- Glob `**` support uses doublestar v4.\n\n## Files\n- internal/scan/registry.go (create: registry loading)\n- internal/scan/matcher.go (create: glob/regex matching)\n- internal/scan/types.go (create: registry + output types)\n- data/ai-config-patterns.json (modify: align with schema if needed)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `go test ./...` (see docs/cli-transcripts/markdowntown-cli-587/go-test.txt)\n- Transcripts: docs/cli-transcripts/markdowntown-cli-587/go-test.txt\n\n## Close Notes\n- Issues encountered: none.\n- Setup improvements: consider documenting the registry filename and XDG path defaults in CONTRIBUTING.\n- Debug info that would have helped: expected registry file name near the binary.","acceptance_criteria":"Registry loads + matcher compiles; types defined","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":240,"created_at":"2025-12-30T15:56:21.53001-08:00","created_by":"honk","updated_at":"2025-12-30T16:48:23.349756-08:00","closed_at":"2025-12-30T16:48:23.349756-08:00","close_reason":"Implemented","labels":["core","registry"],"dependencies":[{"issue_id":"markdowntown-cli-587","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:56:21.531981-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-587","depends_on_id":"markdowntown-cli-za8","type":"blocks","created_at":"2025-12-30T16:01:30.011664-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-5l5","title":"Core: tools list command","description":"- Implement `markdowntown tools list` command wired to registry.\n- Aggregate patterns into tool summaries (toolId/toolName/count/docs).\n- Output JSON array with deterministic ordering.\n\nAcceptance criteria:\n- `markdowntown tools list` returns JSON array sorted by toolId.\n- Uses registry loader and handles missing/invalid registry errors.\n\nEdge cases:\n- Multiple patterns per tool; duplicate docs list handling.\n\nRisks/assumptions:\n- Registry must be loaded before command runs.\n\n## Files\n- cmd/markdowntown/main.go (modify: add tools list command)\n- internal/scan/tools_list.go (create: build tool summary output)\n- internal/scan/registry.go (modify: expose loaded registry)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check` (see docs/cli-transcripts/markdowntown-cli-5l5/make-check.txt)\n- Transcripts: docs/cli-transcripts/markdowntown-cli-5l5/make-check.txt\n\n## Close Notes\n- Issues encountered: lint flagged unused runGit return value; adjusted helper signature.\n- Setup improvements: add lint target to CI so these issues surface earlier.\n- Debug info that would have helped: expected lint rules for unparam.","acceptance_criteria":"Tools list emits deterministic JSON","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":180,"created_at":"2025-12-30T15:56:40.343354-08:00","created_by":"honk","updated_at":"2025-12-30T17:06:16.47027-08:00","closed_at":"2025-12-30T17:06:16.47027-08:00","close_reason":"Implemented","labels":["cli","core"],"dependencies":[{"issue_id":"markdowntown-cli-5l5","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:56:40.345078-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-5l5","depends_on_id":"markdowntown-cli-587","type":"blocks","created_at":"2025-12-30T16:01:35.367496-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-6t6","title":"Core: git integration (root + gitignore)","description":"- Implement git root detection (`git rev-parse --show-toplevel`).\n- Add gitignore detection via `git check-ignore` (prefer batch/--stdin).\n- Return error if git unavailable or repo missing when required.\n\nAcceptance criteria:\n- Repo root detection works from any cwd within repo.\n- Gitignore checks return per-path boolean and tolerate missing files.\n- Errors are surfaced as fatal when git is missing.\n\nEdge cases:\n- Paths outside repo when `--repo` is provided.\n- Large batches; handle command length limits.\n\nRisks/assumptions:\n- Git available on PATH in all target envs.\n\n## Files\n- internal/git/root.go (create: repo root detection)\n- internal/git/ignore.go (create: git check-ignore wrapper)\n- internal/git/git.go (create: shared git command helpers)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `go test ./...` (see docs/cli-transcripts/markdowntown-cli-6t6/go-test.txt)\n- Transcripts: docs/cli-transcripts/markdowntown-cli-6t6/go-test.txt\n\n## Close Notes\n- Issues encountered: none.\n- Setup improvements: document expected path format for git check-ignore inputs.\n- Debug info that would have helped: examples of gitignore behavior for absolute vs relative paths.","acceptance_criteria":"Repo root + gitignore checks implemented","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":180,"created_at":"2025-12-30T15:57:21.750757-08:00","created_by":"honk","updated_at":"2025-12-30T17:01:05.586067-08:00","closed_at":"2025-12-30T17:01:05.586067-08:00","close_reason":"Implemented","labels":["core","git"],"dependencies":[{"issue_id":"markdowntown-cli-6t6","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:57:21.752729-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-6t6","depends_on_id":"markdowntown-cli-za8","type":"blocks","created_at":"2025-12-30T16:01:46.125081-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-9bi","title":"Core: registry validate command","description":"- Implement `markdowntown registry validate` command.\n- Validate JSON syntax/schema, pattern compilation, unique IDs, and docs reachability.\n- Emit JSON report with pass/fail details per check.\n\nAcceptance criteria:\n- Validation errors include full pattern dump on malformed entries.\n- Docs reachability follows redirects and reports non-2xx.\n- Output JSON matches spec with checks breakdown.\n\nEdge cases:\n- Multiple registries detected (fail fast).\n- Timeouts or network errors for doc checks.\n\nRisks/assumptions:\n- Network access allowed only for validate command.\n\n## Files\n- cmd/markdowntown/main.go (modify: add registry validate command)\n- internal/scan/registry_validate.go (create: validation logic)\n- internal/scan/registry.go (modify: expose raw registry + errors)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check` (see docs/cli-transcripts/markdowntown-cli-9bi/make-check.txt)\n- Transcripts: docs/cli-transcripts/markdowntown-cli-9bi/make-check.txt\n\n## Close Notes\n- Issues encountered: none.\n- Setup improvements: consider making docs reachability timeout configurable.\n- Debug info that would have helped: expected HTTP method for docs reachability checks.","acceptance_criteria":"Registry validate emits full JSON report","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":240,"created_at":"2025-12-30T15:56:59.832058-08:00","created_by":"honk","updated_at":"2025-12-30T17:13:57.310726-08:00","closed_at":"2025-12-30T17:13:57.310726-08:00","close_reason":"Implemented","labels":["cli","core"],"dependencies":[{"issue_id":"markdowntown-cli-9bi","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:56:59.8338-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-9bi","depends_on_id":"markdowntown-cli-5l5","type":"blocks","created_at":"2025-12-30T16:01:40.739505-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-a05","title":"Core: scanner discovery + symlink handling","description":"- Implement scan discovery across repo + user scopes and stdin-provided paths.\n- Walk directories, follow symlinks, and track visited inodes to avoid cycles.\n- Collect file metadata (path, size, mtime, depth) and match registry patterns.\n\nAcceptance criteria:\n- Scanner enumerates files for repo + user roots and stdin paths.\n- Symlink resolution records resolved target and skips cycles with warnings.\n- Matching respects case-insensitive glob/regex and full relative paths.\n\nEdge cases:\n- External symlinks pointing outside roots.\n- Unreadable directories/files (continue + warn).\n\nRisks/assumptions:\n- File traversal performance on large repos.\n\n## Files\n- internal/scan/scanner.go (create: discovery pipeline)\n- internal/scan/matcher.go (modify: expose compiled matcher)\n- internal/scan/types.go (modify: add scan/config structs)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check`\n- Transcripts: docs/cli-transcripts/markdowntown-cli-a05/make-check.txt\n\n## Close Notes\n- Issues encountered: revive flagged ScanOptions/ScanResult stutter; renamed to Options/Result.\n- Setup improvements: none.\n- Debug info that would have helped: none.\n","acceptance_criteria":"Scanner discovers files + resolves symlinks","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":240,"created_at":"2025-12-30T15:57:42.030092-08:00","created_by":"honk","updated_at":"2025-12-30T17:38:15.116138-08:00","closed_at":"2025-12-30T17:38:15.116138-08:00","close_reason":"Implemented","labels":["core","scan"],"dependencies":[{"issue_id":"markdowntown-cli-a05","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:57:42.031998-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-a05","depends_on_id":"markdowntown-cli-587","type":"blocks","created_at":"2025-12-30T16:01:51.488905-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-a05","depends_on_id":"markdowntown-cli-6t6","type":"blocks","created_at":"2025-12-30T16:01:56.851973-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-evm","title":"Testing: fuzz matcher","description":"- Add Go fuzz tests for matcher to exercise glob/regex compilation and matching.\n- Ensure fuzz target guards against panics and returns stable results.\n\nAcceptance criteria:\n- `go test -fuzz` runs for matcher with seeded corpus.\n- Fuzz test covers both glob and regex patterns.\n\nEdge cases:\n- Invalid regex inputs and degenerate patterns.\n\nRisks/assumptions:\n- Fuzzing time constraints in CI; keep it short or opt-in.\n\n## Files\n- internal/scan/matcher_fuzz_test.go (create: fuzz target)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check`\n\n## Close Notes (fill in at closure)\n- Issues encountered: [brief list]\n- Setup improvements: [brief list]\n- Debug info that would have helped: [brief list]\n","acceptance_criteria":"Matcher fuzz target added","status":"open","priority":3,"issue_type":"task","assignee":"unassigned","estimated_minutes":120,"created_at":"2025-12-30T15:59:49.361385-08:00","created_by":"honk","updated_at":"2025-12-30T15:59:49.361385-08:00","labels":["fuzz","testing"],"dependencies":[{"issue_id":"markdowntown-cli-evm","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:59:49.363714-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-evm","depends_on_id":"markdowntown-cli-587","type":"blocks","created_at":"2025-12-30T16:02:45.1207-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-evm","depends_on_id":"markdowntown-cli-0xn","type":"blocks","created_at":"2025-12-30T16:02:50.487896-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-ezy","title":"Testing: integration + golden scan tests","description":"- Add fixture repos under `testdata/repos/` (sanitized) and golden JSON outputs.\n- Implement integration tests for scan output (ignore timestamps).\n- Include stdin path handling and multi-tool dedupe cases.\n\nAcceptance criteria:\n- Golden tests compare structural output ignoring timestamps.\n- Integration tests cover repo + user scopes, gitignored flags, and conflict warnings.\n- `go test -update-golden` updates fixtures deterministically.\n\nEdge cases:\n- Circular symlink fixture and permission-denied fixture.\n- Mixed tool matches for same file.\n\nRisks/assumptions:\n- Fixtures remain small enough for CI.\n\n## Files\n- testdata/repos/integration/.cursorrules (create: repo fixture)\n- testdata/repos/integration/.cursor/rules/main.md (create: repo fixture)\n- testdata/repos/integration/shared/config.json (create: repo fixture)\n- testdata/repos/integration/ignored.txt (create: repo fixture)\n- testdata/repos/integration/.gitignore (create: repo fixture)\n- testdata/repos/integration/stdin/unmatched.txt (create: repo fixture)\n- testdata/golden/scan.json (create: golden output)\n- internal/scan/scanner_integration_test.go (create: integration tests)\n- internal/scan/gitignore.go (create: gitignore annotation helper)\n- cmd/markdowntown/main.go (modify: apply gitignore flags)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check`\n- Transcripts: docs/cli-transcripts/markdowntown-cli-ezy/make-check.txt\n\n## Close Notes\n- Issues encountered: gosec flagged golden file read; added #nosec for test-controlled path.\n- Setup improvements: none.\n- Debug info that would have helped: none.\n","acceptance_criteria":"Golden + integration tests cover scan output","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":300,"created_at":"2025-12-30T16:00:11.136062-08:00","created_by":"honk","updated_at":"2025-12-30T18:23:54.024211-08:00","closed_at":"2025-12-30T18:23:54.024211-08:00","close_reason":"Implemented","labels":["integration","testing"],"dependencies":[{"issue_id":"markdowntown-cli-ezy","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T16:00:11.138024-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-ezy","depends_on_id":"markdowntown-cli-tan","type":"blocks","created_at":"2025-12-30T16:02:55.847458-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-ezy","depends_on_id":"markdowntown-cli-3a4","type":"blocks","created_at":"2025-12-30T16:03:01.212776-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-ipp","title":"Docs: README + user guide + screenshots","description":"- Write README + user guide for CLI usage and flags.\n- Document Codex CLI niceties (`/init`, `/prompts`, `/skills`) and registry locations.\n- Capture CLI screenshot(s) for docs.\n\nAcceptance criteria:\n- README includes install + usage examples for scan/registry/tools.\n- `docs/USER_GUIDE.md` covers flags, output schema, and examples.\n- Screenshots live under `docs/screenshots/scan-cli/`.\n\nEdge cases:\n- Keep examples deterministic (no timestamps or paths that vary).\n\nRisks/assumptions:\n- CLI output may shift until final implementation.\n\n## Files\n- README.md (create: usage + examples)\n- docs/USER_GUIDE.md (create: detailed user guide)\n- docs/screenshots/scan-cli/scan-output.png (create: CLI screenshot)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: docs/screenshots/scan-cli/scan-output.png\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check`\n- Transcripts: docs/cli-transcripts/markdowntown-cli-ipp/make-check.txt\n\n## Close Notes\n- Issues encountered: `git push` failed because `origin` remote is not configured; `python` is not available (used `python3`).\n- Setup improvements: configure `origin` remote/tracking branch; document preferred tooling for generating docs screenshots.\n- Debug info that would have helped: expected screenshot generation tooling or helper script.","acceptance_criteria":"Docs + screenshots complete","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":180,"created_at":"2025-12-30T16:00:34.359646-08:00","created_by":"honk","updated_at":"2025-12-30T18:41:22.086542-08:00","closed_at":"2025-12-30T18:41:22.086542-08:00","close_reason":"Implemented","labels":["docs"],"dependencies":[{"issue_id":"markdowntown-cli-ipp","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T16:00:34.361618-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-ipp","depends_on_id":"markdowntown-cli-tan","type":"blocks","created_at":"2025-12-30T16:03:11.931378-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-iun","title":"Core: content pipeline (hashing + frontmatter)","description":"- Implement SHA256 hashing and binary detection for scanned files.\n- Parse YAML frontmatter on all files, store frontmatter or parse errors.\n- Populate sizeBytes/sha256/content/contentSkipped fields per spec.\n\nAcceptance criteria:\n- Hashing runs for all files (even large), using raw bytes.\n- Binary files set `contentSkipped: \"binary\"` and `content: null`.\n- Frontmatter parsed on all files with errors captured.\n\nEdge cases:\n- Empty files (warning: \"empty\").\n- Unreadable files (sizeBytes/sha256 null + error code).\n\nRisks/assumptions:\n- No size limit; memory usage should be monitored.\n\n## Files\n- internal/hash/sha256.go (create: hashing helper)\n- internal/scan/frontmatter.go (create: YAML frontmatter parser)\n- internal/scan/scanner.go (modify: integrate content pipeline)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check`\n- Transcripts: docs/cli-transcripts/markdowntown-cli-iun/make-check.txt\n\n## Close Notes\n- Issues encountered: gosec G304 required #nosec; revive required error return order and unused param cleanup.\n- Setup improvements: none.\n- Debug info that would have helped: none.\n","acceptance_criteria":"Hashing + frontmatter populated per spec","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":240,"created_at":"2025-12-30T15:58:03.626607-08:00","created_by":"honk","updated_at":"2025-12-30T17:46:56.564173-08:00","closed_at":"2025-12-30T17:46:56.564173-08:00","close_reason":"Implemented","labels":["core","scan"],"dependencies":[{"issue_id":"markdowntown-cli-iun","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:58:03.62882-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-iun","depends_on_id":"markdowntown-cli-a05","type":"blocks","created_at":"2025-12-30T16:02:02.190993-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-lta","title":"Infra: CI + goreleaser pipelines","description":"- Add GitHub Actions CI matrix for Go 1.22/1.23 across OS/arch.\n- Configure goreleaser + release workflow.\n- Enforce coverage threshold in CI.\n\nAcceptance criteria:\n- `.github/workflows/ci.yml` runs lint, test (with coverage), build matrix.\n- `.github/workflows/release.yml` triggers goreleaser on tags.\n- `.goreleaser.yml` builds cross-platform artifacts.\n\nEdge cases:\n- Windows path handling in CI steps.\n- Ensure `golangci-lint` install works on all OSes.\n\nRisks/assumptions:\n- GitHub Actions runners have required tooling.\n\n## Files\n- .github/workflows/ci.yml (create: CI matrix)\n- .github/workflows/release.yml (create: release pipeline)\n- .goreleaser.yml (create: goreleaser config)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check`\n- Transcripts: docs/cli-transcripts/markdowntown-cli-lta/make-check.txt\n\n## Close Notes\n- Issues encountered: `git push` failed because `origin` remote is not configured.\n- Setup improvements: configure `origin` remote/tracking branch so pulls/pushes work.\n- Debug info that would have helped: note expected remote setup in repo onboarding docs.","acceptance_criteria":"CI matrix + release workflows configured","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":240,"created_at":"2025-12-30T15:56:01.093397-08:00","created_by":"honk","updated_at":"2025-12-30T18:33:06.254288-08:00","closed_at":"2025-12-30T18:33:06.254288-08:00","close_reason":"Implemented","labels":["ci","infra","release"],"dependencies":[{"issue_id":"markdowntown-cli-lta","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:56:01.095379-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-lta","depends_on_id":"markdowntown-cli-0xn","type":"blocks","created_at":"2025-12-30T16:01:24.642185-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-nx1","title":"Core: output assembly + conflicts/warnings","description":"- Build output assembler for scan results (scans/configs/warnings/timing).\n- Implement deterministic sorting (scope → depth → path, toolId sorting).\n- Add conflict detection + warnings (config conflicts, circular symlink, unreadable).\n\nAcceptance criteria:\n- Output JSON matches schema with stable ordering.\n- Conflicts inferred by tool+scope+kind with override exceptions.\n- Warnings emitted for each occurrence without dedupe.\n\nEdge cases:\n- Multiple tools per file (dedupe by resolved path).\n- Missing stats (sizeBytes/sha256 null).\n\nRisks/assumptions:\n- Sorting stability across OS path separators.\n\n## Files\n- internal/scan/output.go (create: JSON output builder)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check`\n- Transcripts: docs/cli-transcripts/markdowntown-cli-nx1/make-check.txt\n\n## Close Notes\n- Issues encountered: none.\n- Setup improvements: none.\n- Debug info that would have helped: none.\n","acceptance_criteria":"Output JSON deterministic + warnings/conflicts captured","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":240,"created_at":"2025-12-30T15:58:24.050217-08:00","created_by":"honk","updated_at":"2025-12-30T17:53:18.305442-08:00","closed_at":"2025-12-30T17:53:18.305442-08:00","close_reason":"Implemented","labels":["core","output"],"dependencies":[{"issue_id":"markdowntown-cli-nx1","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:58:24.052433-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-nx1","depends_on_id":"markdowntown-cli-iun","type":"blocks","created_at":"2025-12-30T16:02:07.537915-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-t1y","title":"Testing: unit tests for registry/matcher/git","description":"- Add unit tests for registry loader (XDG precedence, ambiguity errors, env override).\n- Add matcher tests for glob/regex case-insensitive behavior.\n- Add gitignore wrapper tests with stubbed git output.\n\nAcceptance criteria:\n- Tests cover success + error cases for registry load.\n- Matcher tests include glob `**` + regex + case-insensitivity.\n- Gitignore wrapper returns accurate booleans and handles missing files.\n\nEdge cases:\n- Malformed patterns and missing registries.\n\nRisks/assumptions:\n- Git tests use fixtures or mockable command runner.\n\n## Files\n- internal/scan/registry_test.go (create: registry unit tests)\n- internal/scan/matcher_test.go (create: matcher unit tests)\n- internal/git/ignore_test.go (create: gitignore unit tests)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check`\n- Transcripts: docs/cli-transcripts/markdowntown-cli-t1y/make-check.txt\n\n## Close Notes\n- Issues encountered: test helper name conflicted with git.runGit; renamed helper.\n- Setup improvements: none.\n- Debug info that would have helped: none.\n","acceptance_criteria":"Unit tests cover registry/matcher/gitignore","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":240,"created_at":"2025-12-30T15:59:28.885699-08:00","created_by":"honk","updated_at":"2025-12-30T18:15:36.446448-08:00","closed_at":"2025-12-30T18:15:36.446448-08:00","close_reason":"Implemented","labels":["testing","unit"],"dependencies":[{"issue_id":"markdowntown-cli-t1y","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:59:28.887584-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-t1y","depends_on_id":"markdowntown-cli-587","type":"blocks","created_at":"2025-12-30T16:02:29.010277-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-t1y","depends_on_id":"markdowntown-cli-6t6","type":"blocks","created_at":"2025-12-30T16:02:34.398725-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-tan","title":"Core: scan command wiring + progress","description":"- Wire `markdowntown scan` command with all flags and output formatting.\n- Implement TTY-aware progress updates to stderr.\n- Support pretty vs compact JSON and trailing newline.\n\nAcceptance criteria:\n- `markdowntown scan` supports `--repo`, `--repo-only`, `--stdin`, `--include-content`, `--compact`, `--quiet`.\n- Progress output disabled when stdout not TTY or `--quiet`.\n- Exit codes align with spec (0 success w/ warnings, 1 fatal).\n\nEdge cases:\n- `--repo` points outside a git worktree.\n- Non-TTY stdout with stderr redirected.\n\nRisks/assumptions:\n- Terminal width detection is available on target OSes.\n\n## Files\n- cmd/markdowntown/main.go (modify: scan command + flags)\n- internal/scan/scanner.go (modify: integrate progress option)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `make check`\n- Transcripts: docs/cli-transcripts/markdowntown-cli-tan/make-check.txt\n\n## Close Notes\n- Issues encountered: revive flagged builtin names; renamed vars/params.\n- Setup improvements: none.\n- Debug info that would have helped: none.\n","acceptance_criteria":"Scan command + flags + progress implemented","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":240,"created_at":"2025-12-30T15:58:46.485743-08:00","created_by":"honk","updated_at":"2025-12-30T18:00:49.451853-08:00","closed_at":"2025-12-30T18:00:49.451853-08:00","close_reason":"Implemented","labels":["cli","core","scan"],"dependencies":[{"issue_id":"markdowntown-cli-tan","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:58:46.488003-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-tan","depends_on_id":"markdowntown-cli-nx1","type":"blocks","created_at":"2025-12-30T16:02:12.89008-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-tan","depends_on_id":"markdowntown-cli-9bi","type":"blocks","created_at":"2025-12-30T16:02:18.258108-08:00","created_by":"honk"}]}
{"id":"markdowntown-cli-za8","title":"Infra: init Go module + CLI skeleton","description":"- Initialize Go module and baseline CLI entrypoint.\n- Add version constants and wire `--version` output formatting contract.\n- Create base package layout (`cmd/`, `internal/` scaffolding).\n\nAcceptance criteria:\n- `go.mod` targets Go 1.22+ and builds a minimal `markdowntown` binary.\n- `cmd/markdowntown/main.go` defines root command + subcommands stubs.\n- Version constants live in a dedicated package and are imported by CLI.\n\nEdge cases:\n- `--version` works without registry or git available.\n\nRisks/assumptions:\n- CLI framework is stdlib/cobra-like; keep light dependency footprint.\n- Module path assumed as `markdowntown-cli` until a canonical repo URL is provided.\n\n## Files\n- go.mod (create: module definition)\n- go.sum (create: dependency lockfile if needed)\n- cmd/markdowntown/main.go (create: CLI skeleton + version flag)\n- internal/version/version.go (create: version + schema constants)\n\n## QA Evidence\n- Playwright: N/A (CLI-only)\n- Screenshots: N/A (CLI-only)\n- DevTools MCP: N/A (CLI-only)\n- Logs: N/A (CLI-only)\n- CI: `go test ./...` (see docs/cli-transcripts/markdowntown-cli-za8/go-test.txt)\n- Transcripts: docs/cli-transcripts/markdowntown-cli-za8/go-test.txt\n\n## Close Notes\n- Issues encountered: module path assumed as `markdowntown-cli` without canonical repo URL.\n- Setup improvements: define module import path and add git remote before pushing.\n- Debug info that would have helped: expected module path or repository URL.","acceptance_criteria":"Go module + CLI skeleton builds; version flag wired","status":"closed","priority":2,"issue_type":"task","assignee":"honk","estimated_minutes":240,"created_at":"2025-12-30T15:55:17.278846-08:00","created_by":"honk","updated_at":"2025-12-30T16:41:40.729286-08:00","closed_at":"2025-12-30T16:41:40.729286-08:00","close_reason":"Implemented","labels":["cli","go","infra"],"dependencies":[{"issue_id":"markdowntown-cli-za8","depends_on_id":"markdowntown-cli-4xm","type":"parent-child","created_at":"2025-12-30T15:55:17.280798-08:00","created_by":"honk"},{"issue_id":"markdowntown-cli-za8","depends_on_id":"markdowntown-cli-4s8","type":"blocks","created_at":"2025-12-30T16:01:13.884133-08:00","created_by":"honk"}]}
