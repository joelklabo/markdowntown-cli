# Oracle Intelligence Layer

Oracle is a multi-agent critique and research engine. It runs **Gemini**, **Copilot**, **Claude**, and **Codex** in parallel to analyze plans, code, or architecture from diverse perspectives (Security, Implementation, Strategy, Engineering).

## Features

- **Unified Synthesis Engine:** standardizes on a high-quality "Decomposition → Specialist Research → Synthesis" loop.
- **Smart Context Injection:** Automatically detects if a task requires workspace context (files, tree, snippets) or treats it as an abstract query to save time/tokens.
- **Research Mode (`--research`):** Forces deep workspace analysis even for abstract queries.
- **Fast Path (`--simple`):** Skips decomposition and sends the request directly to a single generalist (Codex/GPT-5.2) for speed on simple tasks.
- **Auto-Apply (`--apply`):** Automatically detects and applies code patches generated by the agents.
- **Cognitive Scaffolding:** Uses mandatory Chain-of-Thought (CoT) reasoning for high-stakes planning and synthesis.
- **Resource Governance:** Built-in token budgeting and context capping.

## Usage

```bash
# Auto-mode (Decomposes complex tasks, simple for short ones)
./scripts/oracle.sh -p "How do I optimize this React component?"

# Workspace Research (Grounded in your files)
./scripts/oracle.sh --research -p "Explain how the routing logic works."

# Fast Path (Single Agent)
./scripts/oracle.sh --simple -p "Fix typo in README"

# Apply Changes
./scripts/oracle.sh --apply -p "Refactor the error handling in scripts/."

# List Models
./scripts/oracle.sh --models
```

## Configuration

Settings are loaded from `~/.codex/oracle.json`.

```json
{
  "gemini_model": "gemini-3-pro-preview",
  "copilot_model": "gpt-5.1",
  "claude_model": "sonnet",
  "codex_model": "gpt-5.2"
}
```
